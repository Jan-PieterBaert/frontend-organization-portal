<div class="au-c-body-container au-c-body-container--scroll">
  <div class="au-o-box">
    <AuHeading class="au-u-margin-bottom-tiny">
      Bewerk kerngegevens
    </AuHeading>
    <AuHeading @level="2" @skin="3" class="au-u-margin-bottom-large">
      {{@model.administrativeUnit.name}}
    </AuHeading>

    <form
      id="edit-core-info-form"
      aria-label="edit-core-info-form"
      {{on "submit" (perform this.save)}}
    >
      <div class="au-o-flow au-o-flow--large">
        <EditCard>
          <:title>Bestuurseenheid</:title>
          <:card as |Grid|>
            <Grid as |Item|>
              <Item @labelFor="worship-service-name">
                <:label>Naam eredienst</:label>
                <:content>
                  <AuInput
                    @width="block"
                    @value={{@model.administrativeUnit.name}}
                    id="worship-service-name"
                  />
                </:content>
              </Item>
              <Item @labelFor="status-select">
                <:label>Status</:label>
                <:content>
                  <PowerSelect
                    @noMatchesMessage="Geen resultaten"
                    @options={{@model.statuses}}
                    @selected={{@model.administrativeUnit.organizationStatus}}
                    @onChange={{fn
                      (mut @model.administrativeUnit.organizationStatus)
                    }}
                    @disabled={{true}}
                    @triggerId="status-select"
                    as |status|
                  >
                    {{status.label}}
                  </PowerSelect>
                </:content>
              </Item>
              <Item>
                <:label>Type bestuur</:label>
                <:content>
                  <PowerSelect
                    @disabled={{true}}
                    @selected={{@model.administrativeUnit.classification}}
                    @onChange={{fn
                      (mut @model.administrativeUnit.classification)
                    }}
                    as |classification|
                  >
                    {{classification.label}}
                  </PowerSelect>
                </:content>
              </Item>
              <Item @labelFor="recognized-worship-type-select">
                <:label>Type eredienst</:label>
                <:content>
                  <RecognizedWorshipTypeSelect
                    @selected={{this.model.administrativeUnit.recognizedWorshipType}}
                    @onChange={{fn
                      (mut this.administrativeUnit.recognizedWorshipType)
                    }}
                  />
                </:content>
              </Item>
            </Grid>
            {{#if
              (eq
                @model.administrativeUnit.constructor.modelName
                "worship-service"
              )
            }}
              <Grid as |Item|>
                <Item @labelFor="denomination">
                  <:label>Strekking</:label>
                  <:content>
                    <AuInput
                      @width="block"
                      @value={{@model.administrativeUnit.denomination}}
                      id="denomination"
                    />
                  </:content>
                </Item>
              </Grid>
              <Grid as |Item|>
                <Item>
                  <:label>Grensoverschrijvend</:label>
                  <:content>
                    <AuControlRadio
                      @label="Ja"
                      @name="is-cross-border"
                      @value={{@model.administrativeUnit.crossBorder}}
                      @identifier="cross-border-true"
                      @onChange={{fn
                        (mut @model.administrativeUnit.crossBorder)
                        true
                      }}
                      checked={{@model.administrativeUnit.crossBorder}}
                    />

                    <br />

                    <AuControlRadio
                      @label="Nee"
                      @name="is-cross-border"
                      @value={{@model.administrativeUnit.crossBorder}}
                      @identifier="cross-border-false"
                      @onChange={{fn
                        (mut @model.administrativeUnit.crossBorder)
                        false
                      }}
                      checked={{not @model.administrativeUnit.crossBorder}}
                    />
                  </:content>
                </Item>
              </Grid>
            {{/if}}
            <Grid class="au-u-margin-top-large" as |Item|>
              <Item @labelFor="administrative-unit-scope">
                <:label>Werkingsgebied</:label>
                <:content>
                  <ScopeSelect
                    @selected={{this.model.administrativeUnit.scope}}
                    @onChange={{fn (mut this.model.administrativeUnit.scope)}}
                  />
                </:content>
              </Item>
              {{#each @model.administrativeUnit.identifiers as |identifier|}}
                <Item>
                  <:label>{{identifier.idName}}</:label>
                  <:content>
                    <AuInput
                      @width="block"
                      @value={{identifier.structuredIdentifier.localId}}
                      id={{identifier.idName}}
                    />
                  </:content>
                </Item>
              {{/each}}
            </Grid>
          </:card>
        </EditCard>

        <EditCard>
          <:title>Primaire contactgegevens</:title>
          <:card as |Grid|>
            <Grid as |Item|>
              <Item @labelFor="primary-site-address-street-name">
                <:label>Straat</:label>
                <:content>
                  <AuInput
                    @value={{@model.administrativeUnit.primarySite.address.street}}
                    @width="block"
                    id="primary-site-address-street-name"
                  />
                </:content>
              </Item>
              <Item @labelFor="primary-site-address-house-number">
                <:label>Huisnummer</:label>
                <:content>
                  <AuInput
                    @value={{@model.administrativeUnit.primarySite.address.number}}
                    @width="block"
                    id="primary-site-address-house-number"
                  />
                </:content>
              </Item>
              <Item @labelFor="primary-site-address-bus-number">
                <:label>Busnummer</:label>
                <:content>
                  <AuInput
                    @value={{@model.administrativeUnit.primarySite.address.boxNumber}}
                    @width="block"
                    id="primary-site-address-bus-number"
                  />
                </:content>
              </Item>
              <Item @labelFor="primary-site-address-postal-code">
                <:label>Postcode</:label>
                <:content>
                  <AuInput
                    @value={{@model.administrativeUnit.primarySite.address.postcode}}
                    @width="block"
                    id="primary-site-address-postal-code"
                  />
                </:content>
              </Item>
              <Item @labelFor="primary-site-address-municipality">
                <:label>Gemeente</:label>
                <:content>
                  <MunicipalitySelect
                    @selected={{this.model.administrativeUnit.primarySite.address.municipality}}
                    @onChange={{fn
                      (mut
                        this.model.administrativeUnit.primarySite.address.municipality
                      )
                    }}
                  />
                </:content>
              </Item>
              <Item @labelFor="primary-site-address-province">
                <:label>Provincie</:label>
                <:content>
                  <ProvinceSelect
                    @selected={{this.model.administrativeUnit.primarySite.address.province}}
                    @onChange={{fn
                      (mut
                        this.model.administrativeUnit.primarySite.address.province
                      )
                    }}
                  />
                </:content>
              </Item>
              <Item @labelFor="primary-site-contact-phone-number">
                <:label>Telefoonnummer</:label>
                <:content>
                  <AuInput
                    @value={{@model.administrativeUnit.primarySite.contacts.firstObject.telephone}}
                    @width="block"
                    id="primary-site-contact-phone-number"
                  />
                </:content>
              </Item>
              <Item @labelFor="primary-site-contact-website">
                <:label>Website</:label>
                <:content>
                  <AuInput
                    @value={{@model.administrativeUnit.primarySite.contacts.firstObject.website}}
                    @width="block"
                    id="primary-site-contact-website"
                  />
                </:content>
              </Item>
            </Grid>
          </:card>
        </EditCard>
        {{#if
          (or
            @model.administrativeUnit.isSubOrganizationOf.name
            @model.administrativeUnit.isAssociatedWith.name
            @model.administrativeUnit.subOrganizations
          )
        }}
          <EditCard>
            <:title>Gerelateerde organisaties</:title>
            <:card as |Grid|>
              {{#if @model.administrativeUnit.isSubOrganizationOf.name}}
                <Grid as |Item|>
                  <Item>
                    <:label>Centraal bestuur</:label>
                    <:content>
                      <CentralWorshipServiceSelect
                        @selected={{this.model.administrativeUnit.isSubOrganizationOf}}
                        @onChange={{fn
                          (mut
                            this.model.administrativeUnit.isSubOrganizationOf
                          )
                        }}
                      />
                    </:content>
                  </Item>
                </Grid>
              {{/if}}
              {{#if @model.administrativeUnit.subOrganizations}}
                {{#each
                  @model.administrativeUnit.subOrganizations
                  as |worship|
                }}
                  <Grid as |Item|>
                    <Item>
                      <:label>Bestuur van de eredienst</:label>
                      <:content>
                        {{worship.name}}
                      </:content>
                    </Item>
                  </Grid>
                {{/each}}
              {{/if}}
              {{#if @model.administrativeUnit.isAssociatedWith.name}}
                <Grid as |Item|>
                  <Item>
                    <:label>Representatief orgaan</:label>
                    <:content>
                      <RepresentativeBodySelect
                        @selected={{this.model.administrativeUnit.isAssociatedWith}}
                        @onChange={{fn (mut this.model.administrativeUnit.isAssociatedWith)}}
                      />
                    </:content>
                  </Item>
                </Grid>
              {{/if}}
            </:card>
          </EditCard>
        {{/if}}
        <AuButtonGroup>
          <AuButton
            @loading={{this.save.isRunning}}
            @disabled={{this.save.isRunning}}
            type="submit"
          >
            Pas aan
          </AuButton>

          <AuLink
            @route="administrative-units.administrative-unit.core-data"
            @skin="button-secondary"
          >
            Annuleer
          </AuLink>
        </AuButtonGroup>
      </div>
    </form>
  </div>
</div>